{% extends "custom_admin/base.html" %}
{% block title %}Edit Movie{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto mt-6 text-white flex justify-between items-center">
  <a href="{% url 'manage_movies' %}"
    class="inline-flex items-center gap-2 text-sm bg-zinc-800 hover:bg-zinc-700 px-4 py-2 rounded-md transition">
    <i class="fas fa-arrow-left"></i> Back to Movies
  </a>

  <form method="POST" action="{% url 'delete_movie' movie.id %}"
    onsubmit="return confirm('Are you sure you want to delete this movie?');">
    {% csrf_token %}
    <button type="submit" class="text-sm bg-red-700 hover:bg-red-600 px-4 py-2 rounded-md transition">
      Delete Movie
    </button>
  </form>
</div>

<div class="max-w-5xl mx-auto mt-4 text-white">
  <h1 class="text-3xl font-bold text-center mb-8">Edit Movie</h1>

  <form method="POST" action="" class="grid grid-cols-1 md:grid-cols-2 gap-6 p-8 rounded-2xl shadow-xl"
    style="background-color: #181818;">
    {% csrf_token %}

    <div>
      <label class="block text-sm mb-1">Title</label>
      <input type="text" name="title" value="{{ movie.title }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm mb-1">Year</label>
      <input type="text" name="year" value="{{ movie.year }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm mb-1">Genre</label>
      <input type="text" name="genre" value="{{ movie.genre }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm mb-1">Director</label>
      <input type="text" name="director" value="{{ movie.director }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div class="md:col-span-2">
      <label class="block text-sm mb-1">Actors</label>
      <input type="text" name="actors" value="{{ movie.actors }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div class="md:col-span-2">
      <label class="block text-sm mb-1">Plot</label>
      <textarea name="plot" rows="3"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500">{{ movie.plot }}</textarea>
    </div>

    <div>
      <label class="block text-sm mb-1">IMDb Rating</label>
      <input type="text" name="imdb_rating" value="{{ movie.imdb_rating }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm mb-1">IMDb Votes</label>
      <input type="text" name="imdb_votes" value="{{ movie.imdb_votes }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm mb-1">Box Office</label>
      <input type="text" name="box_office" value="{{ movie.box_office }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm mb-1">Poster URL</label>
      <input type="text" name="poster_url" value="{{ movie.poster_url }}"
        class="w-full px-4 py-2 border border-gray-600 rounded-md bg-transparent text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div class="md:col-span-2">
      <button type="submit"
        class="w-full py-2 rounded-full bg-white text-black font-semibold hover:opacity-90 transition text-lg">
        Edit Movie
      </button>
    </div>
  </form>
</div>
{% endblock %}