{% extends "custom_admin/base.html" %}
{% block title %}Edit Movie{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto mt-6 text-white flex justify-between items-center">
  <a href="{% url 'manage_movies' %}" class="inline-flex items-center gap-2 text-sm bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded">
    <i class="fas fa-arrow-left"></i> Back to Movies
  </a>

  <form method="POST" action="{% url 'delete_movie' movie.id %}" onsubmit="return confirm('Are you sure you want to delete this movie?');">
    {% csrf_token %}
    <button type="submit" class="text-sm bg-red-700 hover:bg-red-600 px-4 py-2 rounded">
      Delete Movie
    </button>
  </form>
</div>

<div class="max-w-5xl mx-auto mt-3 text-white">
  <h1 class="text-3xl font-bold mb-8 text-center">Edit Movie</h1>

  <form method="POST" action="" class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-zinc-900 p-8 rounded-lg shadow">
    {% csrf_token %}

    <div>
      <label class="block mb-1">Title</label>
      <input type="text" name="title" value="{{ movie.title }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div>
      <label class="block mb-1">Year</label>
      <input type="text" name="year" value="{{ movie.year }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div>
      <label class="block mb-1">Genre</label>
      <input type="text" name="genre" value="{{ movie.genre }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div>
      <label class="block mb-1">Director</label>
      <input type="text" name="director" value="{{ movie.director }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div class="md:col-span-2">
      <label class="block mb-1">Actors</label>
      <input type="text" name="actors" value="{{ movie.actors }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div class="md:col-span-2">
      <label class="block mb-1">Plot</label>
      <textarea name="plot" rows="3" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none">{{ movie.plot }}</textarea>
    </div>

    <div>
      <label class="block mb-1">IMDb Rating</label>
      <input type="text" name="imdb_rating" value="{{ movie.imdb_rating }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div>
      <label class="block mb-1">IMDb Votes</label>
      <input type="text" name="imdb_votes" value="{{ movie.imdb_votes }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div>
      <label class="block mb-1">Box Office</label>
      <input type="text" name="box_office" value="{{ movie.box_office }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div>
      <label class="block mb-1">Poster URL</label>
      <input type="text" name="poster_url" value="{{ movie.poster_url }}" class="w-full px-4 py-2 bg-zinc-800 rounded outline-none" />
    </div>

    <div class="md:col-span-2">
      <button type="submit" class="w-full py-3 bg-blue-700 hover:bg-blue-600 rounded text-lg font-medium">Edit Movie</button>
    </div>
  </form>
</div>
{% endblock %}
